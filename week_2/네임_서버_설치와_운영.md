본 자료는 「이것이 우분투 리눅스다 (저자:우재남)」를 참조하여 작성되었음을 알립니다.

---

# 네임 서버 설치와 운영

네임 서버 : DNS(Domain Name System) 서버. 도메인 주소(ex. www.naver.com)를 IP 주소로 변환 시켜 주는 역할.   
도메인 주소를 IP 주소로 변환 시켜 주는 과정을 `해석`이라고 합니다.   

> <h3>네임 서버 설정 확인</h3>

![image](https://user-images.githubusercontent.com/43658658/139817894-4575c4db-b945-43cd-ac6b-1bc9406c586d.png)   
`nslookup` > `server` 명령어로 현재 서버의 네임 서버 설정 확인   
각 사이트의 IP 주소 확인하기

> <h3>네임 서버에 문제 발생 시 작동</h3>

의도적으로 네임 서버를 고장내자(네임 서버로 가지 못하게 한다).   
![image](https://user-images.githubusercontent.com/43658658/139818847-175cbd24-04c4-4fa0-a1ab-be76a54c20b6.png)   
* `nameserver 네임서버IP주소` : 리눅스에서는 각자 사용하는 네임 서버가 `/etc/resolv.conf` 파일에 `nameserver 네임서버IP주소` 형식으로 설정.   

![image](https://user-images.githubusercontent.com/43658658/139819766-0ed1b721-03f8-4afb-aad4-27ff8904b28b.png)   도메인으론 접속이 불가능   
![image](https://user-images.githubusercontent.com/43658658/139819498-ac535b2c-d444-4650-8a9f-a3aa1d0db824.png)   
IP 주소로는 접속 가능

네임 서버는 편리함을 제공해주는 것일 뿐, 네트워크에는 영향을 미치지 않는 것을 확인할 수 있습니다.   

> <h3>`/etc/hosts`</h3>

![image](https://user-images.githubusercontent.com/43658658/139820325-c05a18b4-e051-4fb3-8b49-bf09bfd53e54.png)   
![image](https://user-images.githubusercontent.com/43658658/139820467-60388506-b507-4ec8-ac15-4736bf2f432e.png)   
* 주소창에 URL을 입력 했을 때, 웹 브라우저는 `/etc/resolv.conf` 파일에 적혀 있는 nameserver를 통해 IP 주소를 얻기 
전에 `/etc/hosts` 파일을 조사해서 URL, IP 정보를 확인한다는 것을 알 수 있습니다.

![image](https://user-images.githubusercontent.com/43658658/139822258-76fef367-5b16-4912-b07d-b270a42756db.png)   
만약 엉뚱한 IP 주소를 적어놓게 되면 URL을 입력했을 때 엉뚱한 IP 주소로 접속됩니다.   
![image](https://user-images.githubusercontent.com/43658658/139822421-403dbb06-4ebf-4462-b27c-fe7fcceddef9.png)   
`/etc/hosts` 파일을 먼저 확인하기 때문입니다.

![image](https://user-images.githubusercontent.com/43658658/139822560-e7ce8346-166b-4a94-86f2-9d5b02269ac9.png)

## 네임 서버 구축

로컬 네임 서버 : `/etc/resolv.conf` 파일에 `nameserver` 옆에 적혀 있는 IP주소.

로컬 네임 서버는 모든 도메인과 IP 정보를 가지고 있지 않습니다.   
![image](https://user-images.githubusercontent.com/43658658/139824284-7fd99c9d-5296-493c-8ba7-bc510ddfbbd1.png)   
![image](https://user-images.githubusercontent.com/43658658/139824626-37878001-1b8c-4980-8fa0-5984e6faa5c3.png)   

## 캐싱 전용 네임 서버

캐싱 전용 네임 서버 : URL로 IP 주소를 얻고자 할 때, 해당하는 URL의 IP 주소를 알려주는 네임 서버.

> <h3>우분투 데스크탑을 캐싱 전용 네임 서버로 구축하기</h3>

우분투 데스크탑(Server)를 캐싱 전용 네임 서버로 구축해서 우분투 서버(Server-B)와 쿠분투 데스크탑(Client)가 현재 네임 서버(192.168.111.2)이 아닌 우분투 데스크탑(192.168.111.100)을 네임 서버로 이용할 수 있도록 해보겠습니다.


