# 셸 스크립트 프로그래밍

## 환경 변수

셸은 여러 가지 환경 변수 값을 갖는다. 설정된 환경 변수는 `echo $환경변수이름` 형식으로 명령을 실행하면 확인할 수 있습니다.   
예를 들어, 호스트 이름을 출력하려면 `echo $HOSTNAME` 명령을 실행합니다.

![image](https://user-images.githubusercontent.com/43658658/139676357-58956ad5-096e-46ed-86c0-ce23c6f27bfa.png)

```
# 환경 변수 값 변경하기
export 환경변수=값
```

```
# 각 환경 변수가 어떤 값을 가지는지
printenv
```

![image](https://user-images.githubusercontent.com/43658658/139677065-6caaf7f2-06d8-48c2-8f7d-c4e62c3906f7.png)

## 셸 스크립트 작성

`nano name.sh`로 셸 스크립트를 작성합니다.   
![image](https://user-images.githubusercontent.com/43658658/139677740-2973fb01-0f82-4cd8-832f-39a09ea9426e.png)   
* 1행 : bash를 사용하겠다는 의미. 첫 행에 꼭 써줘야 합니다.
* 2행 : echo는 화면에 출력하는 명령어.
* 4행 : 종료 코드를 반환하게 해줍니다. 
  * 셸 스크립트는 실행 중간에 문제가 생겨도 무조건 성공했다는 메시지를 반환.
  * 성공했는지 실패했는지를 반환하는 것이 좋습니다. 0은 성공을 의미.

## 셸 스크립트 실행

```
sh 스크립트파일
```

![image](https://user-images.githubusercontent.com/43658658/139678500-85d01a9b-c58c-4f06-9c51-24dbc2f3d439.png)

```
./스크립트파일
```

![image](https://user-images.githubusercontent.com/43658658/139678373-143b0122-b62a-4889-913d-ab2f5db5977c.png)   
* chmod +x 파일명 : `파일명`에 `실행가능(x)` 속성 추가

일반적으로 명령이나 스크립트파일 이름을 입력하면 환경변수 `$PATH`에 설정된 디렉토리만 찾아봅니다.   
![image](https://user-images.githubusercontent.com/43658658/139679120-8f64a82f-d3de-4d8c-9934-49fc7593c499.png)   
그래서 `./`를 입력해주어 현재 디렉토리의 스크립트파일을 실행하도록 합니다.

## 변수

1. 변수에 넣는 모든 값은 `String`
2. 변수는 `대소문자 구분`
3. 변수를 대입할 때 `= 좌우에는 공백이 없어야`

> <h3>변수의 입출력</h3>

`$` 문자가 들어간 글자를 출력하려면 `''` or `\`로 묶어야 합니다. `""`로 변수를 묶는 건 아무 효과가 없습니다.   
![image](https://user-images.githubusercontent.com/43658658/139680173-2c7de221-cf17-4b1c-8ab9-44ab1c049113.png)   
* 3행 : `myvar`의 변수 값을 출력
* 4행 : 큰 따옴표(")로 묶는 건 아무 효과가 없이 그냥 변수 값이 출력됩니다.
* 5행 : 작은 따옴표(')로 묶어서 문자로 출력됩니다.
* 6행 : 앞에 역슬래쉬(\)를 붙여서 문자로 출력됩니다.
* 7행 : 값을 입력 받습니다.
![image](https://user-images.githubusercontent.com/43658658/139680641-5035af95-8fe1-40cf-9212-b534015cc1ca.png)   
 
> <h3>숫자 계산</h3>

변수를 이용해 연산을 하려면 역따옴표(`)와 expr 키워드를 사용해야 합니다.   
수식에 괄호를 사용하려면 역슬래시(\)를 붙여야 합니다.
사칙연산 중 곱하기(*)도 앞에 역슬래시(\)를 붙여야 합니다.

![image](https://user-images.githubusercontent.com/43658658/139682154-0525bad6-43e4-4316-8b1e-6bfbe48d5e66.png)
* 3행 : 문자열로 취급. 모두 붙여 써야 합니다.
* 5행 : 숫자로 취급해서 계산. 단어마다 띄어쓰기.
* 7행 : 괄호와 곱하기 앞에는 역슬래시 붙이기.

> <h3>파라미터 변수</h3>

파라미터 변수는 `$0, $1, $2, ...` 등의 형태를 갖습니다.   
띄어쓰기를 기준으로 변수로 지정됩니다.

![image](https://user-images.githubusercontent.com/43658658/139683599-654d5515-241d-458a-b414-9dcf94a36da3.png)   
![image](https://user-images.githubusercontent.com/43658658/139683731-4a2b9ab0-fcfd-46ed-992f-b08141731fc3.png)


 
